/*
 * @Author: iowen
 * @Author URI: https://www.iowen.cn/
 * @Date: 2024-08-20 16:50:10
 * @LastEditors: iowen
 * @LastEditTime: 2025-03-27 00:18:35
 * @FilePath: /onenav/assets/js/main.min.js
 * @Description: 
 */

"use strict";var IO=IO||{};function getPredefinedContent(t){let e="";return e="title"==t?`\n    <div class="placeholder-posts null-${t}">\n      <span class="--image"></span>\n      <span class="--title"></span>\n    </div>`:`\n    <div class="placeholder-posts null-${t}">\n      <div class="p-header">\n        <span class="--image"></span>\n      </div>\n      <div class="p-meta">\n        <span class="--title"></span>\n        <div class="--meta"><span></span><span></span><span></span></div>\n      </div>\n    </div>\n  `,e.repeat(6)}function getPosts(t,e,a,i){if(t.hasClass("disabled"))return!1;t.addClass("disabled");var o=t.closest(".ajax-parent");if(!o.length)return showAlert({status:4,msg:IO.localize.parameterError}),!1;e=e||t.data(),a=a||"GET";var n=o.find(t.data("target")),s=t.attr("href")||t.data("href"),r=getPredefinedContent(t.data("style"));return"javascript:;"===s&&(s=IO.ajaxurl),n.html(r),$.ajax({type:a,url:s,data:e,dataType:"html"}).done((function(t){n.html(t),i&&i($response),ioAutoFun()})).fail((function(t,e,a){n.find(".placeholder-posts").remove(),showAlert({status:4,msg:`Error: ${e} - ${a}`})})).always((()=>{t.removeClass("disabled")})),!1}function ajaxPosts(t,e,a,i){var o=t.closest(e);0==o.length&&(o=$(e));var n=o.find(".ajax-posts-row"),s=t.attr("ajax-method"),r=t.attr("ajax-href")||t.attr("href")||t.find("a").attr("ajax-href")||t.find("a").attr("href"),l=getPredefinedContent(t.data("style")||n.data("style"));return s?n.html(l):n.append(l),$.ajax({type:"GET",url:r,dataType:"html"}).done((function(r){var l=$(r);if("page"===s)o.html(l.find(e).html()),o.find(".selects-box .active").parent().tabToCenter();else{var d=l.find(a);n.find(".placeholder-posts").remove(),s?n.html(d):n.append(d)}i&&i.forEach((function(t){var e=l.find(t);if(e.length){var a=o.find(t);a.length||(a=$(t)),a.html(e.html())}})),t.removeClass("disabled"),ioAutoFun()})).fail((function(){n.find(".placeholder-posts").remove(),t.removeClass("disabled"),showAlert({status:4,msg:IO.localize.networkError})})),!1}if(IO.window=$(window),IO.document=$(document),IO.body=$("body"),IO.html=$("html"),IO.isAsideInitEvent=!1,$.cookie=function(t,e,a={}){if(void 0===e){for(var i=document.cookie.split(";"),o=0;o<i.length;o++){var n=i[o].trim();if(0===n.indexOf(t+"="))return decodeURIComponent(n.substring(t.length+1))}return null}null===e&&(a.expires=-1,e="");var s,r="";a.expires&&("number"==typeof a.expires?(s=new Date).setTime(s.getTime()+24*a.expires*60*60*1e3):a.expires.toUTCString&&(s=a.expires),r=`; expires=${s.toUTCString()}`);var l=a.path?`; path=${a.path}`:"; path=/",d=a.domain?`; domain=${a.domain}`:"",c=a.secure?"; secure":"";document.cookie=`${t}=${encodeURIComponent(e)}${r}${l}${d}${c}`},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,(function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""})),t},$.fn.io_select_dropdown=function(){return this.each((function(){var t=$(this),e=t.find("input"),a=t.find(".dropdown-item"),i=t.find(".select-item");a.on("click",(function(){var a=$(this),o=a.data("value"),n=a.text();e.val(o),i.text(n),t.hasClass("hover")&&(t.css("pointer-events","none"),setTimeout((function(){t.css("pointer-events","auto")}),500))}))}))},$.fn.io_toggle_div=function(){return this.each((function(){var t=$(this),e=$(t.attr("data-target")),a=$(".fixed-body"),i=t.attr("data-class")||"",o=t.attr("data-z-index")||"10";a.length||(a=$('<div class="fixed-body"></div>'),IO.body.append(a));var n=function(){a.removeClass("show "+i).off("click"),"10"!=a.css("z-index")&&setTimeout((function(){a.css("z-index","10")}),300)},s=function(){e.removeClass("show"),n(),t.attr("aria-expanded","false")};t.on("click",(function(r){if(r.preventDefault(),e.length){var l=a.css("z-index"),d=e.toggleClass("show").hasClass("show");t.attr("aria-expanded",d),d?(a.trigger("click"),t.attr("old-z",l),a.css("z-index",o).addClass("show "+i),a.one("click",s),e.find(".hide-target").off("click").one("click",s)):n()}}))}))},$.fn.tabToCenter=function(){return this.each((function(){var t=$(this),e=t.find(".active");if(e.length){var a=t.innerWidth(),i=e.innerWidth(),o=t.scrollLeft(),n=e.position().left,s=Math.floor(t.prop("scrollWidth")-a),r=Math.floor(o+n-a/2+i/2);(r=Math.max(0,Math.min(r,s)))!==o&&t.animate({scrollLeft:r},300)}}))},$.fn.io_slider_tab=function(){return this.each((function(){var t=$(this),e=t.find(".slider-ul"),a=t.find(".slider-li"),i=e.find(".active"),o=t.find(".tab-more"),n=100,s=e.data("active")||"active",r=function(t=!1){var a=e.children(".anchor");if(i.length){const o=100!==n?100/n:1,s=100!==n?i.outerWidth()/(100/(100-n))/2:0;a.css({left:`${i.position().left+e.scrollLeft()+s}px`,width:i.outerWidth()/o+"px",height:t?`${i.height()}px`:void 0,opacity:1})}else a.css({opacity:0})};e.length&&!e.hasClass("into")&&(0===e.find(".anchor").length?(e.prepend('<li class="anchor" style="position:absolute;width:0;height:28px"></li>'),r(!0)):(n=e.find(".anchor").data("width")||100,r()),e.addClass("into")),a.length&&a.on("click",(function(){i=$(this);var t=$(i.data("target"));if(!i.hasClass("active")&&(t.addClass(s).siblings().removeClass(s),i.addClass("active").siblings().removeClass("active"),o.attr("href",i.data("more-link")),e.tabToCenter(),r(),!i.hasClass("load")&&i.data("action"))){var a=t.find(".ajax-list-body");!function(t,e){const a=getPredefinedContent(t);e.empty().append(a)}(i.data("style"),a),ioAjax(i,i.data(),(function(e,o){i.addClass("load"),a.html(e.html),isPC()&&t.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})}))}}))}))},$.fn.dependency=function(){var t=function(t){switch(t){case!0:case"true":case 1:case"1":t=!0;break;case null:case!1:case"false":case 0:case"0":t=!1}return t};return this.each((function(){var e=$(this),a=e.find("[data-controller]");if(a.length){var i="is-on";a.each((function(){var a=$(this);if(!a.attr(i)){var o=a.attr(i,!0).data("controller").split("|"),n=a.data("condition").split("|"),s=a.data("value").toString().split("|");$.each(o,(function(i,o){var r=s[i]||"",l=n[i]||n[0]||"==";e.on("change","[name='"+o+"']",(function(e){var i=$(this),o="checkbox"==i.attr("type")?i.is(":checked"):i.val(),n=function(e,a,i){if("=="==e)return t(a)==t(i);if("!="==e)return t(a)!=t(i);if(">="==e)return Number(i)>=Number(a);if("<="==e)return Number(i)<=Number(a);if(">"==e)return Number(i)>Number(a);if("<"==e)return Number(i)<Number(a);if("any"==e){var o=a.split(",");return $.isArray(i)?i.some((t=>o.includes(t))):o.includes(i)}if("not-any"==e)return o=a.split(","),$.isArray(i)?i.every((t=>!o.includes(t))):!o.includes(i);return!1}(l,r,o);a.trigger("controller.change",n),n?a.show():a.hide()}))}))}}))}}))},$.fn.io_sticky_aside=function(){return this.each((function(){var t=$(this),e=$("footer"),a=t.find(".aside-btn.btn-outdent"),i=$(".header-calculate"),o=$(".aside-popup"),n=o.find("ul"),s=$("header").outerHeight(),r=parseFloat(e.css("margin-top")),l=IO.body.hasClass("aside-min"),d=IO.body.hasClass("full-container"),c=0;0==o.length&&(IO.body.append('<div class="aside-popup text-sm"><ul></ul></div>'),o=$(".aside-popup"),n=o.find("ul"));var u=function(a){if(!("scroll"===a.type&&window.innerWidth<768)&&("user"===a.type||IO.isHeaderVisible||IO.isFooterVisible)){var o=0,n=10,l=IO.window.scrollTop();if(!d&&i.length){var c=i.first().outerHeight(!0);o=l<c+s?Math.max(.1,c-l):0}if(e.length){var u=l+window.innerHeight,h=e.offset().top-r;n=u>h-168?Math.max(10,u-h):10}t.css({top:`${s+o}px`,bottom:`${n}px`,opacity:1})}};IO.updateStickyAside=function(a){t.removeAttr("style"),s=$("header").outerHeight(),r=parseFloat(e.css("margin-top")),d=IO.body.hasClass("full-container"),u(a)},IO.isAsideInitEvent||(IO.isAsideInitEvent=!0,IO.window.on("scroll",throttle(u,10,!0)),window.innerWidth>=768&&($(".aside-ul").hover((function(){l&&$("#layout_aside").addClass("hover-show")}),(function(){l&&$("#layout_aside").removeClass("hover-show")})),a.on("click",(function(){var t=$(this);IO.body.toggleClass("aside-min"),l=!l;var e=t.find("[switch-class]"),a=e.attr("class");e.attr("class",e.attr("switch-class")).attr("switch-class",a);var i=(t=t.find("[switch-text]")).text();t.text(t.attr("switch-text")).attr("switch-text",i)})),IO.window.resize((function(){!l&&window.innerWidth<992&&a.trigger("click")}))),IO.isShowAsideSub&&(IO.document.on("mouseenter",".aside-ul>.aside-item",(function(){var e=$(this);if(e.one("mouseleave",(function(){o.hide()})),e.find(".aside-sub").length&&!t.hasClass("show")){0===c&&(IO.body.hasClass("aside-min")?(c=IO.asideWidth-20,setTimeout((()=>{c=t.hasClass("hover-show")?e.outerWidth():0}),300)):c=e.outerWidth()),n.html(e.find(".aside-sub").html()),o.show();var a=e.offset().top-IO.window.scrollTop(),i=IO.window.height()-o.height();i-a<=0&&(a=i>=0?i-15:0),o.stop().animate({top:a},50);var s=e.offset().left+c;o.css("left",`${s}px`)}})),IO.document.on("mouseenter",".aside-popup",(function(){o.show(),$(this).one("mouseleave",(function(){o.hide()}))})),IO.document.on("click",".aside-popup ul li",(function(){o.fadeOut(200)})))),u({type:"user",originalEvent:"init"})}))},$.fn.io_stick_footer=function(){return this.each((function(){var t=$(this),e=function(e){if(IO.isFooterVisible){t.attr("style","");var a=IO.window.height(),i=t.outerHeight(),o=t.position().top+i;a>o&&t.css({marginTop:a-o}),IO.isAsideInitEvent&&IO.updateStickyAside(e)}};IO.window.off("resize.io_stick_footer").on("resize.io_stick_footer",debounce(e,200)),e({type:"auto",originalEvent:"stick footer"})}))},$.fn.io_head_search=function(){return this.each((function(){var t,e,a=$(this),i=a.find("form"),o=i.find(".search-key"),n=i.find(".search-submit-btn"),s=a.find(".search-menu"),r=a.find(".search-term"),l=a.find(".search-smart-tips"),d=i.data("page"),c=a.hasClass("simple-search"),u=!1,h=function(){var t=IO.hotWords,e={google:"//suggestqueries.google.com/complete/search?client=firefox&callback=iowenHot",baidu:"//suggestion.baidu.com/su?p=3&cb=?"}[t];if(e){var a=o.val();$.ajax({type:"GET",url:e,async:!0,data:"google"===t?{q:a}:{wd:a},dataType:"jsonp",jsonp:"google"===t?"callback":"cb",success:function(e){l.children("ul").text("");var a="google"===t?e[1].length:e.s.length;if(a){for(var n=0;n<a;n++){var s="google"===t?e[1][n]:e.s[n];l.children("ul").append("<li>"+s+"</li>"),l.find("li").eq(n).click((function(){o.val(s),i.submit(),l.slideUp(200)}))}l.slideDown(200)}else l.slideUp(200)},error:function(t){console.error("Error:",t)}})}};!function(){var t=window.localStorage.getItem("search_menu_"+d);if(t){var e=a.find('.search-menu[data-id="'+t+'"]'),o=a.find("#"+t);e.addClass("active").siblings().removeClass("active"),o.addClass("active").siblings().removeClass("active"),c&&e.closest(".dropdown").find(".select-item").text(e.text())}a.io_slider_tab();var s=window.localStorage.getItem("search_term_"+d);if(s){var r=a.find('.search-term[data-id="'+s+'"]');window.setTimeout((function(){u=!0,r.trigger("click")}),100)}n.on("click",(function(){i.trigger("submit")}))}(),e=-1,o.off().on({compositionstart:()=>o.attr("data-status",!1),compositionend:()=>o.attr("data-status",!0),blur:()=>l.delay(150).slideUp(200),focus:()=>{"true"===o.attr("data-status")&&o.val()&&"true"===o.attr("data-smart-tips")&&h()},keyup:a=>{"true"===o.attr("data-status")&&o.val()?38!==a.keyCode&&40!==a.keyCode&&"true"===o.attr("data-smart-tips")&&(clearTimeout(t),t=setTimeout((()=>{t=null,h(),e=-1}),500)):l.slideUp(200)},keydown:t=>{if("true"===o.attr("data-smart-tips")){var a=l.find("li");if(40===t.keyCode||38===t.keyCode){e=40===t.keyCode?(e+1)%a.length:e<=0?a.length-1:e-1;var i=a.eq(e);i.addClass("current").siblings().removeClass("current"),o.val(i.text())}}}}),i.on("submit",(function(){var t=encodeURIComponent(o.val());if(!t)return!1;var e=i.attr("action"),a=e.includes("%s%")?e.replace("%s%",t):e+t;return window.open(a),!1})),s.on("click",(function(){var t=$(this),e=t.data("default"),a=t.data("target");window.localStorage.setItem("search_menu_"+d,t.data("id")),$(a+" ."+e).trigger("click")})),r.on("click",(function(){var t=$(this);t.addClass("active").siblings().removeClass("active"),t.closest("ul").tabToCenter(),i.attr("action",t.data("value")),window.localStorage.setItem("search_term_"+d,t.data("id")),o.attr("data-smart-tips",!t.data("id").includes("zhannei")),o.attr("placeholder",t.data("placeholder")),u?u=!1:o.focus()}))}))},$.fn.io_nav_auto_fold=function(){return this.each((function(){var t=$(this),e=t.closest(".container-header"),a=t.find(".io-menu-fold"),i=a.find(">.sub-menu"),o=function(){var o,n;window.innerWidth>=768&&(o=e.width()-100,n=0,i.empty(),e.find(">:not(.navbar-header-menu):not(.flex-fill):not(.menu-btn)").each((function(){o-=$(this).outerWidth(!0)})),t.find(">li:not(.io-menu-fold)").each((function(){var t=$(this),e=t.attr("id");(n+=t.outerWidth())>o?(0===i.find(">#"+e).length&&t.clone().removeClass("hide").appendTo(i),t.addClass("hide")):(t.removeClass("hide"),i.find(">#"+e).remove())})),a.toggleClass("hide",0===i.find(">li").length))};IO.window.on("resize",debounce(o,20,!0)),o()}))},$.fn.io_dominant_color=function(){return this.each((function(){var t=$(this),e=t,a=t.find(".big-meta");if(!t.data("inited")){t.data("inited",!0);var i=t.find(".big-color")[0];if(i){var o="",n=function(){if(o){e.css("background-color",`rgb(${o[0]}, ${o[1]}, ${o[2]})`);var t=function([t,e,a]){return(299*t+587*e+114*a)/1e3}(o);if(!IO.isDarkMode||t<168){var i=t<168?"#ffffff":"#383b3f",n=t<168?"rgba(255, 255, 255, 0.7)":"rgba(20, 20, 20, 0.5)",s=t<168?"brightness(1.5)":"";a.css({"--this-color":i,"--this-muted-color":n,"--this-filter":s,"--this-bg-color":`rgba(${o[0]}, ${o[1]}, ${o[2]}, 0.6)`})}else a.removeAttr("style").css("--this-filter","brightness(1.5)")}else console.error("主色为空")},s=function(){try{o=IO.colorThief.getColor(i),n()}catch(t){console.error("获取图片主色调失败",t)}};t.on("themeModeChanged",n),i.complete&&0!==i.naturalHeight?s():(i.onload=s,i.onerror=function(){console.error("图片加载失败，请检查图片路径或跨域问题")})}else console.error("imgElement is null")}}))},$.fn.load_weather=function(){if(0===this.length)return this;var t,e,a=this.data("token")?"weather-v2":"weather";return ioRequire(a,(t=window,e="ioWidget",t["weather"==a?"ThinkPageWeatherWidgetObject":"SeniverseWeatherWidgetObject"]=e,t[e]||(t[e]=function(){(t[e].q=t[e].q||[]).push(arguments)}),void(t[e].l=+new Date))),this.each((function(){var t=$(this),e=t.data("locale")||"zh",a=t.data("token")||!1;a?ioWidget("show",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:!0,language:e,unit:"c",theme:"auto",token:a,hover:"enabled",container:"io_weather_widget"}):(ioWidget("init",{flavor:"slim",location:"WX4FBXXFKE4F",geolocation:"enabled",language:e,unit:"c",theme:"chameleon",container:"io_weather_widget",bubble:"enabled",alarmType:"badge",color:"#888888",uid:"UD5EFC1165",hash:"2ee497836a31c599f67099ec09b0ef62"}),ioWidget("show"));var i=setInterval((function(){var e=t.find("a");e.length&&(e.removeAttr("href"),t.find(".container_A8JAUuC").on("click",(function(t){t.preventDefault(),t.stopPropagation()})),clearInterval(i))}),200);setTimeout((function(){clearInterval(i)}),1e4)}))},$.fn.io_hot_api=function(){return this.each((function(){var t=$(this),e=t.find(".hotapi-list"),a=t.find(".hotapi-refresh"),i=a.children("i"),o=t.find(".hotapi-loading"),n=t.find(".title-name"),s=t.find(".slug-name"),r=t.data("rule_id"),l=t.data("index"),d=t.data("is_iframe"),c=t.data("api_type"),u=t.data("type"),h="//ionews.top/api/get.php",f={rule_id:r,key:IO.apikey};if("json"!==c&&"rss"!==c||(h=IO.ajaxurl,f={type:c,action:"get_hot_data",id:r}),"tab"===u){var p=t.closest(".hotapi-tab-card");if(n=p.find(`[data-target=".hotapi-${c}-${l}"]`).find(".title-name"),!p.attr("init")){p.attr("init","true");var m=p.find(".hotapi-tab-btn");m.on("click",(function(){var t=$(this);t.addClass("active").siblings().removeClass("active"),p.find(t.data("target")).addClass("active").siblings().removeClass("active"),m.parent().tabToCenter()}))}}var v={1:"vc-l-red",2:"vc-l-yellow",3:"vc-l-purple"},g=function(){$.get(h,f).done((function(t){if(!t.state)return i.removeClass("icon-spin"),void o.html(t.data).delay(3500).fadeOut(200);var{title:a,subtitle:r,type:l,data:c}=t;n.text(a),s.text(r);var u=c.map((t=>function(t,e){var a="taoke"===e?"flex-column":"",i=v[t.index]||"",o=d?t.link.replace(/^https?:/,""):t.link,n=d?`data-fancybox data-type="iframe" data-src="${o}"`:`js-href="${o}" target="_blank" rel="external noopener nofollow"`;switch(e){case"taoke":var s=`<div class="d-flex align-items-center mt-1 text-xs"><span class="badge vc-l-blue text-center">${t.platform}</span><span class="ml-auto white-nowrap text-muted">${t.hot}</span></div>`;break;case"hot":s=`<div class="ml-auto hot-heat d-none d-md-block white-nowrap text-muted pl-1">${t.hot}</div>`;break;default:s=""}return`<li class="d-flex ${a} text-sm mb-2">\n            <div class="w-100">\n              <badge class="hotapi-rank ${i}">${t.index}</badge><a href="javascript:;" class="ml-1 word-break" ${n}>${t.title}</a>\n            </div>\n            ${s}\n          </li>`}(t,l))).join("");e.html(u),o.fadeOut(200),i.removeClass("icon-spin")})).fail((function(){i.removeClass("icon-spin"),o.html(IO.localize.networkError).delay(3500).fadeOut(200)}))};a.on("click",(function(){return i.addClass("icon-spin"),o.html('<i class="iconfont icon-loading icon-spin text-32"></i>').fadeIn(200),g(),!1})),g()}))},$.fn.io_multiple_dropdown=function(){return this.each((function(){var t=$(this),e=t.find("select"),a=t.find(".multiple-select"),i=t.find(".selected-input"),o=t.find(".multiple-dropdown"),n=t.find(".dropdown-list"),s=t.find(".select-all"),r=t.find(".clear-all"),l=[],d=[],c=t.data("placeholder")||"Select options",u=t.data("max-count")||0,h=function(){if(l.length>0){var t="";l.forEach((function(e){t+='<span class="selected-item">'+e.trim()+"</span>"})),i.html('<div class="selected-list">'+t+"</div>")}else i.text(c)},f=function(){JSON.stringify(e.val())!=JSON.stringify(d)&&e.val(d).trigger("input")};e.find("option").each((function(){var t=$(this),e=$('<li class="dropdown-item" data-value="'+t.val()+'">'+t.text()+"</li>");t.is(":selected")&&(e.addClass("selected"),l.push(t.text()),d.push(t.val())),n.append(e)})),h(),i.on("click",(function(){var t=$(window).height(),e=o.outerHeight();t+IO.window.scrollTop()-(i.offset().top+i.outerHeight())<e?o.css({bottom:"100%"}):o.css({bottom:"auto"}),o.slideToggle(100),i.toggleClass("active")})),n.on("click",".dropdown-item",(function(){var t=$(this),e=t.data("value"),a=t.text();if(!(u>1&&l.length>=u)||t.hasClass("selected")){if(1==u){var i=n.find(".selected");i&&i[0]!=t[0]&&(t.addClass("selected").siblings().removeClass("selected"),l=[a],d=[e])}else t.hasClass("selected")?(t.removeClass("selected"),l=l.filter((function(t){return t!==a})),d=d.filter((function(t){return t!==e}))):(t.addClass("selected"),l.push(a),d.push(e));f(),h()}})),s.on("click",(function(){n.find(".dropdown-item").each((function(){var t=$(this);if(!t.hasClass("selected")){t.addClass("selected"),l.push(t.text());var e=t.data("value");d.push(e)}})),f(),h()})),r.on("click",(function(){n.find(".dropdown-item").removeClass("selected"),l=[],d=[],f(),h()})),IO.document.on("click",(function(t){a.is(t.target)||0!==a.has(t.target).length||(o.slideUp(100),i.removeClass("active"))}))}))},function(t){function e(){IO.isDarkMode=IO.html.hasClass("io-black-mode"),IO.isDominantColor=t(".big-posts").length>0,IO.isFooterVisible=!0,IO.isHeaderVisible=!0,IO.asideObserver||(IO.asideObserver=newObserver(800)),IO.autoLoadObserver||(IO.autoLoadObserver=t(".auto-load-next").length?newObserver(10):null),IO.isDominantColor&&ioRequire(["color-thief"],(function(){IO.colorThief||(console.log("Initialize ColorThief"),IO.colorThief=new ColorThief),t(".lazy").length||t(".big-posts").io_dominant_color()})),t("#chart-container").length&&ioRequire("echarts"),t("[captcha-type]").length&&ioRequire("captcha"),t("[data-fancybox]").length&&ioRequire("fancybox"),t("#comment").length&&ioRequire("comments"),t(".swiper").length&&ioRequire("swiper",a),t(".new-post-content").length&&ioRequire("new-post"),t(".footer-stick").io_stick_footer(),isPC()?t('[data-toggle="tooltip"]').tooltip("dispose").tooltip({container:"body"}):t('.qr-img[data-toggle="tooltip"]').tooltip("dispose").tooltip({container:"body"}),t('[contenteditable="true"]').attr("contenteditable","false")}function a(){if(!IO.initSwiper){IO.initSwiper=!0;new Swiper(".swiper-post-module",{autoplay:{disableOnInteraction:!1},lazy:{loadPrevNext:!0},slidesPerView:1,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".swiper-widgets",{autoplay:{disableOnInteraction:!1,delay:5e3},effect:"fade",thumbs:{swiper:{el:".swiper-widgets-thumbs",slidesPerView:"auto",freeMode:!0,centerInsufficientSlides:!0},autoScrollOffset:1},on:{init:function(t){this.slides.eq(0).addClass("anim-slide")},transitionStart:function(){for(var t=0;t<this.slides.length;t++){this.slides.eq(t).removeClass("anim-slide")}},transitionEnd:function(){this.slides.eq(this.activeIndex).addClass("anim-slide")}}}),new Swiper(".swiper-term-content",{nested:!0,slidesPerView:"auto",freeMode:!0,mousewheel:!0,watchSlidesProgress:!0,resistanceRatio:!1});t(".lazy").length||lazyLoadInstance.update()}}if(IO.document.ready((function(){e(),function(){if(i(),t(".ajax-footprint").length&&o(),isInViewPort("footer",IO.asideObserver,(function(t){IO.isFooterVisible=t})),isInViewPort(".header-calculate",IO.asideObserver,(function(t){IO.isHeaderVisible=t})),t(".dependency-box").dependency(),t("#system_popup_ad").each((function(){var e=t(this),a=e.data("id"),i=e.data("ex"),o=e.data("delay");t.cookie("system_popup_ad")!=a&&setTimeout((function(){e.modal("show"),i>0&&t.cookie("system_popup_ad",a,{path:"/",expires:i})}),o)})),t(".io-footer-tools").length||t(".main-header").length||t(".tabbar-go-up").length){var e,a=t(".io-footer-tools .go-to-up"),n=t(".tabbar-go-up .go-to-up"),s=t(".main-header");n.length&&a.remove();var r=function(){var t=IO.window.scrollTop();t>=168?(a.fadeIn(200),n.addClass("show")):(a.fadeOut(200),n.removeClass("show")),t>40?s.addClass("scroll"):s.removeClass("scroll")},l=function(){r(),IO.window.width()<IO.homeWidth&&(IO.body.addClass("scroll-ing"),clearTimeout(e),e=setTimeout((function(){IO.body.removeClass("scroll-ing")}),500))};r(),IO.window.scroll(l)}if(IO.document.on("click","a.is-views[data-id]",(function(){var e,a,o=t(this);e=o.data("id"),a="sites",IO.postData={postId:e,postType:a},i(),t.get(IO.ajaxurl,{action:"io_postviews",postviews_id:o.data("id")},(function(t){}))})),IO.document.on("click","[data-clipboard-text]",(function(e){var a=t(this),i=a.data("clipboard-text");a.hasClass("down_count")&&t.ajax({type:"POST",url:IO.ajaxurl,data:a.data(),success:function(e){t(".down-count-text").html(e)}}),i&&copyText(i,(function(){alert(IO.localize.extractionCode)}),(function(){}),this)})),t(".sidebar-tools").length&&ioRequire("sticky-sidebar",(function(){t(".sidebar-tools").theiaStickySidebar({additionalMarginTop:80,additionalMarginBottom:20})})),t(".ajax-auto-get").each((function(){var e=t(this),a=t(e.data("target")),i=e.attr("href");i||(i=e.data("href")),t.get(i,null,(function(t,e){a.html(t),ioAutoFun()}))})),t(".ajax-auto-post").each((function(){const e=t(this),a=e.find(".icon-refresh"),i=t(e.data("target")),o=e.hasClass("auto"),n=o?i.html():'<div class="'+i.find(".posts-row").attr("class")+'">'+getPredefinedContent(e.data("style"))+"</div>",s=e.attr("href")||e.data("href");var r=function(){return a.hasClass("icon-spin")||(i.html(n),a.addClass("icon-spin"),t.post(s,e.data(),(function(t,e){i.html(t),a.removeClass("icon-spin"),ioAutoFun()}),"html")),!1};e.hasClass("click")&&e.on("click",r),o&&r()})),t(".ajax-page-post").each((function(){const e=t(this),a=t(e.data("target")),i=e.hasClass("auto"),o=i?a.html():getPredefinedContent(e.data("style")),n=e.attr("href")||e.data("href");var s=function(){if(e.hasClass("loading"))return!1;e.addClass("loading");const i=parseInt(e.data("page"),10);return i>1?a.append(o):a.html(o),t.ajax({url:n,data:e.data(),type:"POST",success:function(t){a.find(".placeholder-posts").remove(),a.append(t),t.includes("nothing-msg")?e.remove():e.data("page",i+1),e.removeClass("loading"),ioAutoFun()},error:function(t){e.removeClass("loading"),console.error("error:",t)}}),!1};e.on("click",s),i&&s(),e.hasClass("auto-load-next")&&IO.autoLoadObserver&&isInViewPort(e[0],IO.autoLoadObserver,(function(t){t&&e.data("page")<3&&e.trigger("click")}))})),t(".list-ajax-by").each((function(){const e=t(this),a=t(e.data("target")).find(".ajax-page-post"),i=e.closest(".list-selects");e.on("click",(function(){if(e.hasClass("active"))return;t(this).addClass("active").siblings().removeClass("active"),i.tabToCenter(),a.data({page:1,orderby:e.data("type")}).trigger("click")}))})),setTimeout((function(){var e=window.location.hash;if(e&&!e.includes("=")){var a=t(e);if(a.length){var i=t('a.smooth[href="'+e+'"]');i.length?i.click():t("html, body").animate({scrollTop:a.offset().top-95},500)}}}),300),t(".sites-seo-load").length){var d=t(".sites-seo-load");t.get(IO.ajaxurl+"?action=get_sites_seo&url="+d.data("url"),null,(function(t,e){if("0"==t.errcode){var a="",i="",o=d.data("go_to");t.data.result.forEach((t=>{switch(t.type){case"BaiduPCWeight":i="百度PC";break;case"BaiduMobileWeight":i="百度移动";break;case"HaoSouWeight":i="360";break;case"SMWeight":i="神马";break;case"TouTiaoWeight":i="头条"}a+='<a class="sites-weight '+t.type+'" href="'+o+'" title="'+i+'" target="_blank" rel="external nofollow"><span>'+t.weight+"</span></a>"})),d.html(a)}}))}}(),t("#layout_aside").io_sticky_aside(),t("[select-dropdown]").io_select_dropdown(),t("[data-toggle-div]").io_toggle_div(),t(".navbar-header").io_nav_auto_fold(),t(".io-slider-tab").io_slider_tab(),t("#search").io_head_search(),t("#io_weather_widget").load_weather(),t(".hotapi-card").io_hot_api(),t(".io-multiple-dropdown").io_multiple_dropdown()})),window.ioAutoFun=debounce(e,100),t(".go-to-up").click((function(){return t("html, body").animate({scrollTop:0},500),!1})),IO.document.on("click",".mobile-nav .icon-arrow-b",(function(e){e.preventDefault();var a=t(this).closest("li"),i=a.find(".sub-menu").first();a.toggleClass("show"),i.slideToggle(200)})),IO.document.on("click","[js-href]",(function(e){e.preventDefault();var a=t(this),i=a.attr("js-href"),o=a.attr("target");i&&(o?window.open(i,"_blank"):window.location.href=i)})),IO.document.on("shown.bs.tab","[ajax-route]",(function(){var e=t(this);if(e.attr("onpopstate"))e.attr("onpopstate",!1);else{var a=e.attr("href")||e.attr("route")||e.attr("ajax-route"),i=e.attr("data-target");if(a){var o=document.title||e.text();history.pushState({tab_id:i},o,a)}}})),IO.document.on("hide.bs.tab","[ajax-route]",(function(){var e=t(this);if(!history.state){var a=e.attr("href")||e.attr("route")||e.attr("ajax-route"),i=e.attr("data-target");a&&history.replaceState({tab_id:i},null,a)}})),window.onpopstate=function(e){var a=e.state&&t('[data-toggle="tab"][data-target="'+e.state.tab_id+'"]');a&&a.length&&a.attr("onpopstate",!0).click()},IO.document.on("click","[ajax-tab]",(function(){var e=t(this);if(e.parent().tabToCenter(),e.hasClass("loaded"))return!1;e.addClass("loaded");var a=e.data("target");return ajaxPosts(e,a)})),IO.document.on("click","[ajax-tab-page]",(function(){var e=t(this),a=t(e.data("target")),i=e.data("route_back")||window.location.href;if(e.addClass("active").siblings().removeClass("active"),IO.window.width()<768){var n=e.text(),s=t('<div class="drawer-header"><div class="drawer-close"><i class="iconfont icon-arrow-l"></i></div><div class="drawer-title">'+n+"</div></div>");s.on("click",".drawer-close",(function(){IO.body.removeClass("show-tab-page"),history.replaceState(null,document.title,i),setTimeout((function(){s.remove()}),300),e.removeClass("active")})),IO.body.append(s),setTimeout((function(){IO.body.addClass("show-tab-page")}),10)}if(!e.hasClass("loaded")){if(e.addClass("loaded"),e.hasClass("disabled"))return!1;a.length&&e.addClass("disabled");var r=e.attr("href");a.load(r+" "+e.data("target")+" .load-ajax-card",(function(){e.removeClass("disabled"),a.find(".ajax-footprint").length&&o()}))}})),IO.window.width()<768&&t(".uc-content-body").length){if(IO.body.hasClass("user-center-"))return;t("[ajax-tab-page].loaded").click()}function i(){if(void 0!==IO.postData&&IO.uid){var t=localStorage.getItem("ioUserFootprint_"+IO.uid);t=t?JSON.parse(t):[];var e={post_id:IO.postData.postId,post_type:IO.postData.postType,visit_time:(new Date).toISOString()};t.some((t=>t.post_id===e.post_id))?t.forEach((t=>{t.post_id===e.post_id&&(t.visit_time=(new Date).toISOString())})):t.push(e);var a=new Date;a.setDate(a.getDate()-7),t=t.filter((t=>new Date(t.visit_time)>=a)),localStorage.setItem("ioUserFootprint_"+IO.uid,JSON.stringify(t))}}function o(){t(".ajax-footprint").each((function(){var e=t(this);e.on("click",(function(){var t=e.data("type");return IO.footprintData=function(t){var e=localStorage.getItem("ioUserFootprint_"+IO.uid);if(!e)return[];var a=(e=JSON.parse(e)).filter((e=>e.post_type===t));return a.sort(((t,e)=>new Date(e.visit_time)-new Date(t.visit_time))),a}(t),n(e),!1})),e.hasClass("auto")&&e.removeClass("auto").trigger("click")})),IO.document.on("click",".footprint-next",(function(){var e=t(this);return n(e),e.remove(),!1}))}function n(e){if(e.hasClass("disabled"))return!1;e.addClass("disabled active").siblings().removeClass("active");var a=e.closest(".footprint-card").find(".ajax-panel"),i=e.data("type"),o=e.data("action"),n=e.data("style"),s=e.data("columns"),r=e.data("page")||1,l=e.data("group")||[],d=getPredefinedContent(i+"-"+n);a.removeClass((function(t,e){return(e.match(/\brow-col-\S+/g)||[]).join(" ")})),a.addClass(s),r>1?a.append(d):a.html(d),t.ajax({url:IO.ajaxurl,data:{action:o,type:i,style:n,columns:s,posts:IO.footprintData,group:l,page:r},dataType:"html"}).done((function(t){r>1?(a.find(".placeholder-posts").remove(),a.append(t)):a.html(t),ioAutoFun()})).fail((function(){showAlert({status:4,msg:IO.localize.networkError})})).always((function(){e.removeClass("disabled")}))}IO.document.on("click",".ajax-click-post",(function(){var e=t(this);return e.hasClass("is-tab-btn")&&e.addClass("active").siblings().removeClass("active"),getPosts(e,e.data(),"POST"),!1})),IO.document.on("click",".ajax-posts-load",(function(){var e=t(this);if(e.hasClass("disabled"))return!1;e.addClass("disabled");var a=".ajax-load-page",i=e.data("card")||".ajax-item",o=[".posts-nav"];return e.hasClass("is-tab-btn")&&e.addClass("active").siblings().removeClass("active"),"card"===e.attr("ajax-method")?e.parent().tabToCenter():"page"===e.attr("ajax-method")&&(a=e.data("page")||".ajax-load-page",i="",o=e.data("replace")||[".page-head-content"]),ajaxPosts(e,a,i,o)})),IO.document.on("click",".trash-history-search",(function(e){var a=t(this);1==confirm("确认要清空全部搜索记录？")&&(a.closest(".search-keywords-box").slideUp().delay(1e3,(function(){t(this).remove()})),t.cookie("io_history_search",null))})),IO.document.on("click",".search-ico-btn",(function(){var e=t(".search-body form");e.length&&setTimeout((function(){e.find('[name="s"]').focus()}),500)})),IO.document.on("click",".full-windows",(function(){var e=t(".switch-container");e.toggleClass("container container-fluid"),e.hasClass("container-fluid")?IO.body.addClass("full-container"):IO.body.removeClass("full-container"),IO.isAsideInitEvent&&IO.updateStickyAside({type:"user",originalEvent:"btn click"})})),IO.document.on("click","a.smooth",(function(e){e.preventDefault();var a=t(this),i=a.attr("href");if("#"==i.substr(0,1)&&t(i).length&&t("html, body").animate({scrollTop:t(i).offset().top-95},500),"#search"==i&&setTimeout((function(){t("#search-text").focus()}),600),a.hasClass("change-href")){var o=t("li"+i);o[0]&&o.click()}})),IO.document.on("click",".add-favorites",(function(t){t.preventDefault();var e=window.location.href,a=document.title;try{window.external.AddFavorite(e,a)}catch(t){alert("请使用 Ctrl+D (Windows) 或 Command+D (Mac) 手动将此页面添加到收藏夹。")}})),IO.document.on("click",".modal .io-ajax-price-get",(function(){var e=t(this),a=e.attr("href");a||(a=e.data("href"));var i=e.parent();if(i.hasClass("disabled")||e.attr("disabled"))return!1;i.children().attr("disabled",!1),e.attr("disabled",!0),i.addClass("disabled");var o=e.closest("form").find(e.data("target"));return o.append('<div class="d-flex align-items-center justify-content-center bg-o-muted position-absolute io-radius h-100 w-100"><i class="iconfont icon-loading icon-spin text-32"></i></div>'),t.get(a,null,(function(e,a){var n=t(e);o.html(n),n[0].click(),i.removeClass("disabled")})),!1})),IO.document.on("click",".io-ajax-modal",(function(){var e=t(this),a=ioModal(e);return t.ajax({type:"POST",url:IO.ajaxurl,data:e.data(),success:function(e){a.find(".io-modal-content").html(e).slideDown(200,(function(){a.find(".loading-anim").fadeOut(200);var e=t(this).outerHeight(),i=a.find(".modal-content");i.animate({height:e},200,"swing",(function(){i.css({height:"",overflow:"",transition:""})}))}))},error:function(){a.modal("hide"),showAlert({status:4,msg:IO.localize.networkError})}}),!1})),IO.document.on("click",".io-ajax-modal-get",(function(){var e=t(this),a=e.attr("href");a||(a=e.data("href"));var i=ioModal(e);return t.get(a,null,(function(a,o){i.find(".io-modal-content").html(a).slideDown(200,(function(){i.find(".loading-anim").fadeOut(200);var e=t(this).outerHeight(),a=i.find(".modal-content");a.animate({height:e},200,"swing",(function(){a.css({height:"",overflow:"",transition:""})}))})),i.find(".dependency-box").dependency(),i.find(".initiate-pay").length&&ioRequire("pay"),"pay_publish"==e.data("modal_id")&&i.find(".io-close").on("click",(function(){i.attr("is-user",!0)}))})),!1})),IO.document.on("click",".io-posts-like",(function(){var e=t(this),a=e.find("i"),i=e.find(".star-count"),o=a.data("class");if(e.hasClass("disabled"))return!1;e.addClass("disabled");var n={action:"posts_like",type:e.data("type"),post_type:e.data("post_type"),post_id:e.data("post_id"),ticket:e.data("ticket")};return t.ajax({type:"POST",url:IO.ajaxurl,data:n,dataType:"json",success:function(t){var n=t.data||t;1===n.type&&("add"===n.data.action?e.addClass("liked"):e.removeClass("liked"),o&&a.toggleClass(o),i.html(n.data.count)),showAlert(t.data),e.removeClass("disabled")},error:function(){showAlert({status:4,msg:IO.localize.networkError}),e.removeClass("disabled")}}),!1})),IO.document.on("click",".ajax-form-captcha #submit",(function(){var e=t(this),a=e.closest("form");return captcha_ajax(e,"",(function(t){1==t.status&&(a[0].reset(),a.find(".image-captcha").click())})),!1})),IO.document.on("click","[data-for]",(function(){var e=t(this),a=e.closest("form"),i=e.html(),o=e.data("for"),n=e.data("value"),s=e.data("enable"),r=e.data("disable");s&&a.find(s).show(),r&&a.find(r).hide();var l=e.closest("[for-group]");l.length?l.find('[data-for="'+o+'"]').removeClass("active"):e.siblings().removeClass("active"),e.addClass("active"),a.find('input[name="'+o+'"]').val(n).trigger("change"),a.find('span[name="'+o+'"]').html(i)})),IO.document.on("input",".get-ajax-custom-product-val",debounce((function(){var e=t(this),a=e.data("href");if(e.hasClass("disabled"))return!1;e.addClass("disabled");var i=e.closest("form"),o=i.find(e.data("target"));return o.html('<i class="iconfont icon-loading icon-spin"></i>'),t.get(a,i.serializeObject(),(function(t,a){t.msg?(alert.status=t.status?t.status:t.error?4:1,alert.msg=t.msg,showAlert(alert),o.html('<i class="iconfont icon-point"></i>')):o.html(t),e.removeClass("disabled")})),!1}),800)),IO.document.on("click","#wp_login_form #submit",(function(){return captcha_ajax(t(this),"",(function(t){1==t.status&&(t.goto||window.location.reload())})),!1})),IO.document.on("input propertychange","#user_email",(function(){t(this).val().length>4&&t(".verification").slideDown()})),IO.document.on("click",".password-show-btn",(function(){var e=t(this),a=e.find(".iconfont"),i=e.siblings("input");"0"==e.data("show")?(a.removeClass("icon-chakan-line"),a.addClass("icon-hide-line"),i.attr("type","text"),e.data("show",1)):(a.removeClass("icon-hide-line"),a.addClass("icon-chakan-line"),i.attr("type","password"),e.data("show",0))})),IO.document.on("click",".btn-token",(function(){var e=t(this);if(e.attr("disabled"))return!1;var a=e.closest("form"),i=a.find(".btn-token"),o=a.find("#user_email");o.length||(o=a.find(".mm_mail"));var n=60,s=e.html(),r=function(){n>0?(i.html(n+IO.localize.reSend),n--,setTimeout(r,1e3)):(i.html(s).attr("disabled",!1),n=60)};captcha_ajax(e,"",(function(t){o.attr("readonly","readonly"),1==t.status?(i.attr("disabled",!0),r()):o.removeAttr("readonly")}))})),IO.document.on("click",".footprint-clear-all",(function(){confirm(IO.localize.clearFootprint)&&(localStorage.removeItem("ioUserFootprint_"+IO.uid),location.reload())})),IO.document.on("click",".switch-dark-mode",(function(t){IO.html.toggleClass("io-black-mode"),IO.isDarkMode=IO.html.hasClass("io-black-mode"),switchThemeMode(!0)})),IO.document.on("click",".open-login",(function(){t(this);if(t("#user_agreement")[0]&&!t("#user_agreement").is(":checked"))return showAlert({status:2,msg:IO.localize.userAgreement}),!1}))}(jQuery),document.addEventListener("DOMContentLoaded",(function(){})),"auto-system"==IO.themeType&&null==$.cookie("io_night_mode")){var handleColorSchemeChange=function(t){IO.isDarkMode=t.matches,IO.isDarkMode?IO.html.addClass("io-black-mode"):IO.html.removeClass("io-black-mode"),switchThemeMode(!1),$.cookie("prefers-color-scheme",IO.isDarkMode?"dark":"light")},darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)");darkModeMediaQuery.addEventListener("change",handleColorSchemeChange),handleColorSchemeChange(darkModeMediaQuery)}function switchThemeMode(t){var e=$(".switch-dark-mode"),a=e.find(".mode-ico"),i=$("#post_content_ifr").contents().find("body");i.length>0&&(IO.isDarkMode?i.addClass("io-black-mode"):i.removeClass("io-black-mode")),t&&$.cookie("io_night_mode",IO.isDarkMode?0:1),e.attr("data-original-title")?e.attr("data-original-title",IO.isDarkMode?IO.localize.lightMode:IO.localize.nightMode):e.attr("title",IO.isDarkMode?IO.localize.lightMode:IO.localize.nightMode),a.removeClass(IO.isDarkMode?"icon-night":"icon-light").addClass(IO.isDarkMode?"icon-light":"icon-night"),switchSrc();var o=new CustomEvent("themeModeChanged",{detail:{isDarkMode:IO.isDarkMode}});window.dispatchEvent(o);var n=$(".big-posts"),s=$.Event("themeModeChanged");n.trigger(s)}function switchSrc(){$("img[switch-src]").each((function(){var t=$(this),e=t.attr("data-src")||t.attr("src"),a=t.attr("switch-src"),i=JSON.parse(t.attr("is-dark").toLowerCase());i!=IO.isDarkMode&&t.attr("src",a).attr("switch-src",e).removeAttr("data-src").attr("is-dark",!i)}))}function isInViewPort(t,e,a){if(!("IntersectionObserver"in window))return a(!1),void console.log("此浏览器不支持 IntersectionObserver。");const i="string"==typeof t?document.querySelector(t):t;i?(i.callback=a,e.observe(i)):a(!1)}function ioModal(t){var e=t.data("modal_size")||"modal-medium",a=t.data("modal_type")||"modal-suspend",i="refresh_modal_"+(i=t.data("modal_id")||a),o=void 0===t.data("modal_esc")||t.data("modal_esc"),n=`<div class="modal fade" id="${i}" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="modal-dialog ${e} modal-dialog-centered" role="document">\n      <div class="modal-content ${a}"></div>\n    </div>\n  </div>`,s=$("#"+i);return s.length||($("body").append(n),s=$("#"+i)),s.find(".modal-content").html('<div class="io-modal-content"></div><div class="loading-anim io-radius blur-bg-20"><div class="d-flex align-items-center justify-content-center h-100"><i class="iconfont icon-loading icon-spin text-32"></i></div></div>').css({height:"220px",overflow:"hidden"}),o||s.modal({backdrop:"static",keyboard:!1}),s.modal("show"),s}function newObserver(t){return new IntersectionObserver((function(t){t.forEach((function(t){const e=t.target,a=t.isIntersecting;e.callback&&"function"==typeof e.callback&&e.callback(a)}))}),{root:null,rootMargin:t+"px 0px"})}function debounce(t,e,a=!1){let i;return function(...o){const n=this,s=a&&!i;clearTimeout(i),i=setTimeout((()=>{i=null,a||t.apply(n,o)}),e),s&&t.apply(n,o)}}function throttle(t,e,a=!1){let i=null,o=0;return function(...n){const s=Date.now(),r=this;a&&!o&&(t.apply(r,n),o=s);const l=e-(s-o);clearTimeout(i),l<=0?(t.apply(r,n),o=s):i||(i=setTimeout((()=>{i=null,o=a?0:Date.now(),a||t.apply(r,n)}),l))}}function ioAjax(t,e="",a=""){if(t.attr("disabled"))return!1;if(!e){var i=t.closest("form");e=i.serializeObject()}var o=t.data("action");o&&(e.action=o);var n={};t.attr("disabled",!0),$.ajax({url:IO.ajaxurl,type:"POST",dataType:"json",data:e}).done((function(i){i.msg?(n.status=i.status,n.msg=i.msg,showAlert(n)):removeAlert(),t.attr("disabled",!1),$.isFunction(a)&&a(i,t,e),i.goto?(window.location.href=i.goto,window.location.reload):i.reload&&window.location.reload()})).fail((function(e){(e=e.responseJSON)&&e.msg?(n.status=e.status,n.msg=e.msg,showAlert(n)):(n.status=4,n.msg=IO.localize.networkError,showAlert(n)),t.attr("disabled",!1)}))}function showAlert(t){if(t){var e,a,i=t.status||t.type||0,o=t.msg||t.message||"";if(""!=o){switch(i){case 0:IO.localize.successAlert,e="vc-gray",a="icon-loading icon-spin";break;case 1:IO.localize.successAlert,e="vc-blue",a="icon-adopt";break;case 2:IO.localize.infoAlert,e="vc-violet",a="icon-tishi";break;case 3:IO.localize.warningAlert,e="vc-yellow",a="icon-warning";break;case 4:IO.localize.errorAlert,e="vc-red",a="icon-close-circle"}var n=$("#alert_placeholder");n[0]||(IO.body.append('<div id="alert_placeholder" class="alert-system"></div>'),n=$("#alert_placeholder"));var s=$('<div class="alert-body io-alert-'+i+" tips-box "+e+'"><i class="iconfont '+a+'"></i><span>'+o+"</span></div>");removeAlert(),n.append(s),0==i?s.slideDown().addClass("show"):(s.slideDown().addClass("show"),setTimeout((function(){removeAlert(s)}),3500))}}}function removeAlert(t){t||(t=$(".io-alert-0")),t[0]&&(t.removeClass("show"),setTimeout((function(){t.remove()}),300))}function copyText(t,e,a,i){var o=t.toString(),n=document.querySelector("#copy-input");n||((n=document.createElement("input")).id="copy-input",n.readOnly="readOnly",n.style.position="fixed",n.style.left="-2000px",n.style.zIndex="-1000",i.parentNode.appendChild(n)),n.value=o,function(t,e,a){if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",a-e),i.select()}else t.setSelectionRange(e,a),t.select()}(n,0,o.length),document.execCommand("copy")?$.isFunction(e)&&e():$.isFunction(a)&&a(),n.blur()}function isPC(){if(navigator.userAgentData)return!navigator.userAgentData.mobile;const t=navigator.userAgent.toLowerCase();return!["android","iphone","webos","blackberry","symbian","windows phone","ipad","ipod","mobile","tablet","kindle","silk","playbook"].some((e=>t.includes(e)))}function isURL(t){return/https?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(t)}function changeInput(t){if("true"==t.attr("data-status")){var e=t.parent().attr("data-max");t.val().length<=e?t.parent().attr("data-min",t.val().length):t.val(t.val().substring(0,e-1)).trigger("input")}}function captcha_ajax(t,e="",a=""){if(t.attr("disabled"))return!1;if(!e){var i=t.closest("form");e=i.serializeObject()}var o=t.data("action")||t.attr("action");if(o&&(e.action=o),e.captcha_type&&window.captcha&&!window.captcha.ticket)return CaptchaOpen(t,e.captcha_type),!1;window.captcha&&(e.captcha=JSON.parse(JSON.stringify(window.captcha)),e.captcha._this&&delete e.captcha._this,window.captcha={});var n={status:0};n.msg=IO.localize.loading,showAlert(n);var s=t.html();t.attr("disabled",!0).html('<i class="iconfont icon-loading icon-spin mr-2"></i>'+IO.localize.wait),$.ajax({url:IO.ajaxurl,type:"POST",dataType:"json",data:e}).done((function(i){i.msg?(n.status=i.status,n.msg=i.msg,showAlert(n)):removeAlert(),t.attr("disabled",!1).html(s),$.isFunction(a)&&a(i,t,e),i.goto?i.delay?setTimeout((function(){window.location.href=i.goto,window.location.reload}),i.delay):(window.location.href=i.goto,window.location.reload):i.reload&&(i.delay?setTimeout((function(){window.location.reload()}),i.delay):window.location.reload())})).fail((function(e){(e=e.responseJSON)&&e.msg?(n.status=e.status,n.msg=e.msg,showAlert(n)):(n.status=4,n.msg=IO.localize.networkError,showAlert(n)),t.attr("disabled",!1).html(s)}))}function getScrollbarWidth(){var t,e,a=document.createElement("DIV");return a.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;",t=document.body.appendChild(a).clientWidth,a.style.overflowY="scroll",e=a.clientWidth,document.body.removeChild(a),t-e}function hasScrollbar(){return document.documentElement.scrollHeight>window.innerHeight}function ioPopup(t,e,a,i){var o="";switch(t){case"big":o="io-bomb-lg";break;case"no-padding":o="io-bomb-nopd";break;case"cover":o="io-bomb-cover io-bomb-nopd";break;case"full":o="io-bomb-xl";break;case"small":o="io-bomb-sm";break;case"confirm":o="io-bomb-md";break;case"pay":o="io-bomb-sm io-bomb-nopd";break;default:o=""}var n=$(`<div class="io-bomb ${o} io-bomb-open">\n\t  \t<div class="io-bomb-overlay" style="${a}"></div>\n\t  \t<div class="io-bomb-body text-center">\n\t  \t\t<div class="io-bomb-content">${e}</div>\n\t  \t\t<div class="btn-close-bomb mt-2"><i class="iconfont icon-close-circle"></i></div>\n\t  \t</div>\n\t  </div>`);$("body").addClass("modal-open").append(n),hasScrollbar()&&$("body").css("padding-right",getScrollbarWidth());return $(n).on("click touchstart",".btn-close-bomb i, .io-bomb-overlay",(function(t){t.preventDefault(),$.isFunction(i)&&i(!0),n.removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout((function(){$("body").removeClass("modal-open"),hasScrollbar()&&$("body").css("padding-right",""),n.remove()}),300)})),n}function ioConfirm(t,e,a){var i=`<div class="io-bomb io-bomb-confirm io-bomb-open">\n      <div class="io-bomb-overlay"></div>\n      <div class="io-bomb-body">\n        <div class="io-bomb-content text-sm">\n          <div class="io-bomb-header fx-yellow modal-header-bg text-center p-3">\n            <i class="iconfont icon-tishi text-32"></i>\n            <div class="text-md mt-1">${t}</div>\n          </div>\n          <div class="m-4">${e}</div>\n          <div class="io-bomb-footer text-center mb-4 mx-4">\n            <button class="btn vc-red btn-shadow flex-fill io-confirm-ok">${IO.localize.okBtn}</button>\n            <button class="btn vc-l-yellow btn-outline flex-fill io-confirm-cancel">${IO.localize.cancelBtn}</button>\n          </div>\n        </div>\n      </div>\n    </div>`,o=$(i),n=function(){o.removeClass("io-bomb-open").addClass("io-bomb-close"),setTimeout((function(){$("body").removeClass("modal-open"),hasScrollbar()&&$("body").css("padding-right",""),o.remove()}),300)};return o.find(".io-confirm-ok").on("click",(function(){n(),$.isFunction(a)&&a(!0)})),o.find(".io-confirm-cancel").on("click",(function(){n(),$.isFunction(a)&&a(!1)})),$("body").addClass("modal-open").append(o),hasScrollbar()&&$("body").css("padding-right",getScrollbarWidth()),o}console.log("\n %c OneNav  V"+IO.version+" 导航主题 By 一为 %c https://www.iotheme.cn/ \n","color: #ffffff; background: #f1404b; padding:5px 0;","background: #030307; padding:5px 0;");
